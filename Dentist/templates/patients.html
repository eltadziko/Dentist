{% extends 'base.html' %}

{% block javascript %}
	{{ block.super }}

<script>
	$(document).ready(function() {
		 $("input[name=pat]").keyup(function() {
			$.post('/patients/',
			{ pat: $(this).val(),
			  csrfmiddlewaretoken: '{{ csrf_token }}' },
			function(data) { 
				$('#forms').html($(data).find('#forms').html());
				$('.pagination').html($(data).find('.pagination').html()); 
			});
		 	
		 	return false;
		 });
	});
</script>	
	
{% endblock %}

{% block right_column %}
Nazwisko pacjenta: <input type="text" name="pat" />
<div id="forms">
	{% for row in patients %}
		<a href = "{% url views.update_profile %}{{ row.id }}">
        	{{ row.last_name }} {{ row.first_name }}, {{ row.address }}
        </a>
    {% endfor %}
</div>
<div class="pagination">
    <span class="step-links">
        {% if patients.has_previous %}
            <a href="?page={{ patients.previous_page_number }}">Poprzednia</a>
        {% endif %}

        <span class="current">
            Strona {{ patients.number }} z {{ patients.paginator.num_pages }}
        </span>

        {% if patients.has_next %}
            <a href="?page={{ patients.next_page_number }}">NastÄ™pna</a>
        {% endif %}
    </span>
</div>
{% endblock %}